<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" name="viewport" content="initial-scale=1.0, user-scalable=no" />
    
	 <style>
            #map_canvas {
                padding: 0;
                position : absolute !important;
                top : 40px !important; 
                right : 0;
                bottom : 40px !important; 
                left : 0 !important;    
            }
        </style>
	<link rel="stylesheet" href="css/jquery.mobile.css" />
	<link rel="stylesheet" href="css/beehooaa.css" />	
	<script src="js/jquery.js"></script>
	<script src="js/jquery.mobile.js"></script>
	<script src="js/myscript.js"></script>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCGZ697lTX5-A6lEqAlDAS4Dip3EwX_eFc">
	  </script>

	 <script type="text/javascript">
      $(document).ready(function(){
  $.ajax({
    type: "GET",
    url: "tracks.json",
    dataType: "json",
    success: handleResponse,
    error: function(){ alert("error"); }
 });
});
</script> 
<script type="text/javascript">
var trackInfo = {};

        var MajorCities = [];
		

function handleResponse(result) {
 $.each(result.storm[0].event, function(i) {
			var date = result.storm[0].event[i].date;
			var time = result.storm[0].event[i].time;
			var lat = parseFloat(result.storm[0].event[i].lat);
			var lon = parseFloat(result.storm[0].event[i].long);
			var mbar = result.storm[0].event[i].mbar;
			var windspeed = result.storm[0].event[i].windspeed;
			var stage = result.storm[0].event[i].stage;
			$("#poop").append(lat, lon);
			
			MajorCities.push(new google.maps.LatLng(lat,"-" + lon));
			i++;
           });
        

          

}	

	//function processTracks(data){
	
	//$.each(data.event); {
	//var lat = data.event.lat;
	//var long = data.event.long;
	//}
	//$("#tracksMain").html(lat);
	//}


      function initialize() {
        var myOptions = {
	          center: new google.maps.LatLng(48.554433,7.770995),
          zoom: 4,   mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		
       var majorCitiesRoute = new google.maps.Polyline({ path: MajorCities,
            strokeColor: "#FF0000", strokeWeight: 2 });      
        majorCitiesRoute.setMap(map);
      }
    </script>
  </head>
  <body onload="initialize()">
  <div id ="poop"> test div </div>
<div data-role="page" id="tracksMain">
    <div data-role="header">
        <div data-role="navbar">
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="reports.html">Reports</a>
                </li>
                <li>
                    <a href="charts.html">Charts</a>
                </li>
                <li>
                    <a href="tracks.html" class="ui-btn-active ui-state-persist">Tracks</a>
                </li>
            </ul>
        </div>
    </div>
	</div>
  
    <div id="map_canvas" ></div>
  </body>
</html>